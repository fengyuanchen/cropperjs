import{_ as m,c,o as d,j as t,ah as l,ai as s,ag as u}from"./framework.CAD6b6pp.js";const v={BASE_URL:"/cropperjs/"},{BASE_URL:f}=v,w={name:"CropperSelectionExample",data(){return{src:`${f}picture.jpg`,within:"canvas"}},methods:{inSelection(i,e){return i.x>=e.x&&i.y>=e.y&&i.x+i.width<=e.x+e.width&&i.y+i.height<=e.y+e.height},onCropperImageTransform(i){const e=this.$refs.cropperCanvas;if(!e||this.within!=="image")return;const a=this.$refs.cropperImage,p=this.$refs.cropperSelection,o=e.getBoundingClientRect(),n=a.cloneNode();n.style.transform=`matrix(${i.detail.matrix.join(", ")})`,n.style.opacity="0",e.appendChild(n);const r=n.getBoundingClientRect();e.removeChild(n);const h=p,g={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};this.inSelection(h,g)||i.preventDefault()},onCropperSelectionChange(i){const e=this.$refs.cropperCanvas;if(!e||this.within==="none")return;const a=e.getBoundingClientRect(),p=i.detail;switch(this.within){case"canvas":{const o={x:0,y:0,width:a.width,height:a.height};this.inSelection(p,o)||i.preventDefault();break}case"image":{const n=this.$refs.cropperImage.getBoundingClientRect(),r={x:n.left-a.left,y:n.top-a.top,width:n.width,height:n.height};this.inSelection(p,r)||i.preventDefault();break}}}}},C={class:"cropper-container"},b=["src"];function I(i,e,a,p,o,n){return d(),c("div",C,[t("form",null,[t("fieldset",null,[e[5]||(e[5]=t("legend",null,"Within:",-1)),l(t("input",{id:"inputWithinCanvas","onUpdate:modelValue":e[0]||(e[0]=r=>o.within=r),type:"radio",name:"within",value:"canvas"},null,512),[[s,o.within]]),e[6]||(e[6]=t("label",{for:"inputWithinCanvas"},"canvas",-1)),l(t("input",{id:"inputWithinImage","onUpdate:modelValue":e[1]||(e[1]=r=>o.within=r),type:"radio",name:"within",value:"image"},null,512),[[s,o.within]]),e[7]||(e[7]=t("label",{for:"inputWithinImage"},"image",-1)),l(t("input",{id:"inputWithinNone","onUpdate:modelValue":e[2]||(e[2]=r=>o.within=r),type:"radio",name:"within",value:"none"},null,512),[[s,o.within]]),e[8]||(e[8]=t("label",{for:"inputWithinNone"},"none",-1))])]),(d(),c("cropper-canvas",{ref:"cropperCanvas",key:o.within,background:""},[t("cropper-image",{ref:"cropperImage",src:o.src,alt:"Picture",rotatable:"",scalable:"",skewable:"",translatable:"",onTransform:e[3]||(e[3]=(...r)=>n.onCropperImageTransform&&n.onCropperImageTransform(...r))},null,40,b),e[10]||(e[10]=t("cropper-handle",{action:"move",plain:""},null,-1)),t("cropper-selection",{ref:"cropperSelection","initial-coverage":"0.5",movable:"",resizable:"",outlined:"",onChange:e[4]||(e[4]=(...r)=>n.onCropperSelectionChange&&n.onCropperSelectionChange(...r))},e[9]||(e[9]=[t("cropper-grid",{role:"grid",covered:""},null,-1),t("cropper-crosshair",{centered:""},null,-1),t("cropper-handle",{action:"move","theme-color":"rgba(255, 255, 255, 0.35)"},null,-1),u('<cropper-handle action="n-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="e-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="s-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="w-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="ne-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="nw-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="se-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="sw-resize" data-v-7d85ab42></cropper-handle>',8)]),544)]))])}const S=m(w,[["render",I],["__scopeId","data-v-7d85ab42"]]);export{S as default};
